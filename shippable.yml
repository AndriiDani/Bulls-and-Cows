language: java

jdk:
  - oraclejdk8

script:
  - ./gradlew

build:
  ci:
    #Create folders for test and code coverage
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    - mvn install

    #Run test and code coverage and output results to the right folder
    - mvn clean cobertura:cobertura
    - cp target/site/jacoco/jacoco.xml shippable/codecoverage
    - cp -r target shippable/codecoverage
